<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="www.dream.bullitine_Board.mapper.PartyMapper">
		<resultMap id="rmPartyVO" extends="nsEntity.rmMasterEntity"
		type="www.dream.bullitine_Board.party.model.PartyVO">
		<result property="name" column="name" />
		<result property="gender" column="gender" />
		<collection property="listContectPoint"
			resultMap="rmContectPointVO">
		</collection>
		<discriminator javaType="String" column="descrim">
			<case value="Member" resultMap="rmMemberVO" />
			<case value="Manager" resultMap="rmManagerVO" />
		</discriminator>
	</resultMap>

	<resultMap id="rmMemberVO" extends="rmPartyVO"
		type="www.dream.bullitine_Board.party.model.MemberVO" />

	<resultMap id="rmManagerVO" extends="rmPartyVO"
		type="www.dream.bullitine_Board.party.model.ManagerVO" />

	<resultMap id="rmContectPointVO"
		type="www.dream.bullitine_Board.party.model.ContectPointVO">
		<result property="cpType" column="Cp_Type" />
		<result property="cpVal" column="Cp_val" />
	</resultMap>
	
<!-- 	public List<PartyVO> listAll(); -->
	
		<select id="listAll" resultMap="rmPartyVO">
		SELECT *
		FROM T_party p LEFT
		OUTER JOIN T_Contect_Point cp
		on p.id = cp.Owner_id
	</select>


	
	

</mapper>
